{% extends 'base.html.twig' %}
{% block body %}

    <p>Please choose one of the following phyla</p>
    {% for phylum in phyla %}
        <a href="{{ path('index_species_per_phylum', {'phylumNameWorms': phylum.phylumNameWorms}) }}" class="btn btn-primary">{{ phylum.phylumNameWorms }}</a>
    {% endfor %}
    {% if phylumToDisplay %}
        <a href="{{ path('index_species') }}" class="btn btn-primary">All species</a>
    {% endif %}

    {% if not phylumToDisplay %}
        <h2>All species</h2>
    {% for singleSpecies in species %}

        <article>
        <h4><i>{{ singleSpecies.speciesNameWorms }}</i></h4>

            {#{% if singleSpecies.mainImage %}#}
                {#<div style="max-width: 300px">#}
                {#<img src="{{ asset('uploads/images_species/' ~ singleSpecies.mainImage.speciesImageName) }}"#}
                     {#style="max-width:100%" alt="">#}
                {#</div>#}
            {#{% else %}#}
            <img src="http://placehold.it/300x200" alt="">
            {#{% endif %}#}


            <a href="{{ path('species_details', {'wormsAphiaId' : singleSpecies.wormsAphiaId}) }}" class="btn btn-primary">Details</a>
            <a href="{{ path('occurrences_list', {'wormsAphiaId': singleSpecies.wormsAphiaId}) }}" class="btn btn-primary">Occurrences</a>
        </article>

    {% endfor %}
        {% else %}
            <h2>Species belonging to the phylum {{ phylumToDisplay.phylumNameWorms }}</h2>
        {% for singleSpecies in phylumToDisplay.species %}
            <article>
                <h4><i>{{ singleSpecies.speciesNameWorms }}</i></h4>
                <img src="http://placehold.it/300x200" alt="">
                <a href="{{ path('species_details', {'wormsAphiaId' : singleSpecies.wormsAphiaId}) }}" class="btn btn-primary">Details</a>
                <a href="{{ path('occurrences_list', {'wormsAphiaId': singleSpecies.wormsAphiaId}) }}" class="btn btn-primary">Occurrences</a>
            </article>

        {% endfor %}
    {% endif %}



{% endblock %}